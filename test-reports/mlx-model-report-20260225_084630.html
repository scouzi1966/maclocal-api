<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MLX Model Test Report â€” 2026-02-25 08:46</title>
<!-- MathJax for LaTeX rendering -->
<script>
MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']],
    displayMath: [['$$', '$$'], ['\\[', '\\]']],
    processEscapes: true
  },
  svg: { fontCache: 'global' },
  startup: { typeset: false }
};
</script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" async></script>
<!-- marked.js for Markdown rendering -->
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #0d1117; color: #c9d1d9; padding: 2rem; }
  h1 { color: #58a6ff; margin-bottom: 0.5rem; }
  h2 { color: #58a6ff; margin: 2rem 0 1rem; border-bottom: 1px solid #21262d; padding-bottom: 0.5rem; }
  .summary { display: flex; gap: 1.5rem; margin: 1.5rem 0; flex-wrap: wrap; }
  .card { background: #161b22; border: 1px solid #30363d; border-radius: 8px; padding: 1.2rem 1.5rem; min-width: 160px; }
  .card .label { font-size: 0.85rem; color: #8b949e; margin-bottom: 0.3rem; }
  .card .value { font-size: 1.8rem; font-weight: 700; }
  .card .value.green { color: #3fb950; }
  .card .value.red { color: #f85149; }
  .card .value.blue { color: #58a6ff; }
  .card .value.yellow { color: #d29922; }
  table { width: 100%; border-collapse: collapse; margin: 1rem 0; }
  th { background: #161b22; color: #58a6ff; text-align: left; padding: 0.7rem 1rem; font-weight: 600; border-bottom: 2px solid #30363d; position: sticky; top: 0; z-index: 10; }
  td { padding: 0.6rem 1rem; border-bottom: 1px solid #21262d; }
  tr:hover { background: #161b22; }
  .status-ok { color: #3fb950; font-weight: 600; }
  .status-fail { color: #f85149; font-weight: 600; }
  .bar { background: #21262d; border-radius: 4px; height: 20px; position: relative; overflow: hidden; min-width: 60px; }
  .bar-fill { height: 100%; border-radius: 4px; transition: width 0.3s; }
  .bar-label { position: absolute; right: 6px; top: 1px; font-size: 0.75rem; color: #c9d1d9; font-weight: 600; }
  .mono { font-family: 'SF Mono', Menlo, monospace; font-size: 0.85rem; }
  .preview { max-width: 400px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; font-size: 0.8rem; color: #8b949e; }
  .error-text { color: #f85149; font-size: 0.85rem; max-width: 500px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
  .meta { color: #8b949e; font-size: 0.9rem; margin-bottom: 1.5rem; }
  .rank { color: #8b949e; font-size: 0.85rem; width: 30px; text-align: center; }
  .ai-score { text-align: center; font-size: 1rem; width: 35px; }

  /* Config badges */
  .config-panel { margin-bottom: 1rem; display: flex; flex-wrap: wrap; gap: 0.4rem; }
  .config-badge { display: inline-block; font-size: 0.75rem; padding: 0.2rem 0.6rem; border: 1px solid #30363d; border-radius: 12px; color: #c9d1d9; font-family: 'SF Mono', Menlo, monospace; white-space: nowrap; }
  .config-badge strong { color: #e6edf3; }

  /* Prompt box */
  .prompt-box { background: #161b22; border: 1px solid #30363d; border-radius: 6px; padding: 0.8rem 1rem; margin-bottom: 1rem; font-size: 0.85rem; color: #c9d1d9; line-height: 1.5; }
  .prompt-label { display: inline-block; background: #58a6ff; color: #0d1117; font-size: 0.65rem; font-weight: 700; padding: 0.1rem 0.4rem; border-radius: 3px; margin-right: 0.5rem; vertical-align: middle; letter-spacing: 0.05em; }

  /* Variant / AFM tags */
  .variant-tag { display: inline-block; font-size: 0.7rem; padding: 0.1rem 0.4rem; background: #a371f7; color: #0d1117; border-radius: 3px; margin-left: 0.4rem; font-weight: 600; font-family: -apple-system, sans-serif; }
  .afm-tag { display: inline-block; font-size: 0.7rem; padding: 0.1rem 0.4rem; background: #21262d; border: 1px solid #f0883e; color: #f0883e; border-radius: 3px; font-family: 'SF Mono', Menlo, monospace; }
  .temp-tag { display: inline-block; font-size: 0.7rem; padding: 0.1rem 0.4rem; background: #21262d; border: 1px solid #d29922; color: #d29922; border-radius: 3px; font-family: 'SF Mono', Menlo, monospace; }

  /* Response sections */
  .response-section { margin: 0.5rem 0; border: 1px solid #21262d; border-radius: 8px; overflow: hidden; }
  .response-header { display: flex; align-items: center; gap: 0.8rem; padding: 0.8rem 1.2rem; background: #161b22; cursor: pointer; user-select: none; color: #c9d1d9; font-size: 0.95rem; font-weight: 500; }
  .response-header:hover { background: #1c2129; }
  .toggle-icon { font-size: 0.7rem; color: #8b949e; transition: transform 0.2s; display: inline-block; width: 1rem; }
  .toggle-icon.open { transform: rotate(90deg); }
  .response-meta { margin-left: auto; color: #8b949e; font-size: 0.8rem; font-family: -apple-system, sans-serif; }
  .response-body { padding: 1.5rem; background: #0d1117; border-top: 1px solid #21262d; }

  /* Rendered markdown content */
  .rendered-content { line-height: 1.7; font-size: 0.95rem; }
  .rendered-content h1, .rendered-content h2, .rendered-content h3 { color: #58a6ff; margin: 1.2rem 0 0.6rem; }
  .rendered-content h1 { font-size: 1.4rem; border-bottom: 1px solid #21262d; padding-bottom: 0.3rem; }
  .rendered-content h2 { font-size: 1.2rem; }
  .rendered-content h3 { font-size: 1.05rem; }
  .rendered-content p { margin: 0.6rem 0; }
  .rendered-content ul, .rendered-content ol { margin: 0.6rem 0 0.6rem 1.5rem; }
  .rendered-content li { margin: 0.3rem 0; }
  .rendered-content code { background: #161b22; padding: 0.15rem 0.4rem; border-radius: 4px; font-family: 'SF Mono', Menlo, monospace; font-size: 0.85em; color: #e6edf3; }
  .rendered-content pre { background: #161b22; border: 1px solid #30363d; border-radius: 6px; padding: 1rem; overflow-x: auto; margin: 0.8rem 0; }
  .rendered-content pre code { background: none; padding: 0; }
  .rendered-content blockquote { border-left: 3px solid #30363d; padding-left: 1rem; color: #8b949e; margin: 0.6rem 0; }
  .rendered-content strong { color: #e6edf3; }
  .rendered-content hr { border: none; border-top: 1px solid #21262d; margin: 1rem 0; }
  .rendered-content table { border: 1px solid #30363d; }
  .rendered-content th, .rendered-content td { border: 1px solid #30363d; padding: 0.4rem 0.8rem; }

  /* MathJax overrides for dark theme */
  mjx-container { color: #c9d1d9 !important; }
  mjx-container svg { fill: #c9d1d9; }

  .expand-all { background: #21262d; color: #c9d1d9; border: 1px solid #30363d; border-radius: 6px; padding: 0.5rem 1rem; cursor: pointer; font-size: 0.85rem; margin-bottom: 1rem; }
  .expand-all:hover { background: #30363d; }
</style>
</head>
<body>
<h1>MLX Model Test Report</h1>
<p class="meta">Generated 2026-02-25 08:46 &middot; AFM MLX Backend &middot; <strong>v0.9.5-0cfba17</strong></p>
<p class="meta" style="margin-top:0.3rem"><code style="background:#161b22;padding:0.3rem 0.6rem;border-radius:4px;font-size:0.8rem">mlx-model-test.sh --prompts /Users/syl/bin/test-Qwen3.5-35B-A3B-4bit.txt --smart claude,codex</code></p>

<div class="summary">
  <div class="card"><div class="label">Test Runs</div><div class="value blue">0</div></div>
  <div class="card"><div class="label">Passed</div><div class="value green">0</div></div>
  <div class="card"><div class="label">Failed</div><div class="value red">0</div></div>
  <div class="card"><div class="label">Best tok/s</div><div class="value yellow">N/A</div></div>
  <div class="card"><div class="label">Fastest</div><div class="value" style="font-size:1rem;color:#d29922">N/A</div></div>
</div>

<h2>Performance Ranking (by tokens/sec)</h2>
<p style="color:#8b949e;font-size:0.85rem;margin-bottom:0.5rem">Click a row to jump to its full response below.</p>
<table>
<tr>
  <th>#</th>
  <th>Model / Config</th>
  <th>Status</th>
  <th title="codex score">codex</th><th title="claude score">claude</th>
  <th>Temp</th>
  <th>Load (s)</th>
  <th>Tokens</th>
  <th>Gen (s)</th>
  <th style="min-width:200px">Tokens/sec</th>
  <th>Prompt</th>
</tr>

</table>



<h2>AI Analysis (--smart)</h2>

<div class="response-section">
  <h3 class="response-header" onclick="toggleSmart_0()">
    <span class="toggle-icon" id="smart-icon-0">&#9654;</span>
    <span>codex Analysis &middot; avg score: 3.0/5</span>
  </h3>
  <div class="response-body" id="smart-body-0" style="display:none">
    <div class="rendered-content" id="smart-content-0"></div>
  </div>
</div>
<script>
var smartData_0 = "## AFM Compatibility QA Report\n\nParsed file: `/tmp/mlx-test-results.jsonl`  \nResult: **1 line total, metadata only, 0 model test records**.\n\n### 1) Broken Models\nNo model executions found, so no load/crash failures could be evaluated.\n\n| Error Type | Models | AFM Bug vs Model Incompatibility |\n|---|---|---|\n| N/A (no test records) | None | Unknown |\n\n### 2) Anomalies & Red Flags\nNo generated outputs were present, so repetition/degeneration/truncation/relevance checks are not possible.\n\n### 3) Variant Comparison\nNo `@ variant` model records found; cannot compare A/B settings.\n\n### 4) Quality Assessment\nNo model outputs available to score coherence/relevance per model.\n\n### 5) Performance Summary (tokens/sec)\nNo performance rows available.\n\n| Model | Variant | Tokens/sec | Notes |\n|---|---|---:|---|\n| N/A | N/A | N/A | No test records in file |\n\n### 6) Recommendations\nPriority action is to rerun/export the JSONL with actual result rows (lines containing model name, status, timings, tokens, and content fields). Current file appears to contain only run metadata:\n- `afm_version: v0.9.5-0cfba17`\n- `timestamp: 2026-02-25T13:46:06Z`\n- `test_command: mlx-model-test.sh ...`";
var smartRendered_0 = false;
function toggleSmart_0() {
  var body = document.getElementById('smart-body-0');
  var icon = document.getElementById('smart-icon-0');
  if (body.style.display === 'none') {
    body.style.display = 'block';
    icon.classList.add('open');
    if (!smartRendered_0) {
      smartRendered_0 = true;
      var el = document.getElementById('smart-content-0');
      if (typeof marked !== 'undefined') {
        el.innerHTML = marked.parse(smartData_0);
      } else {
        el.innerHTML = '<pre>' + smartData_0.replace(/</g, '&lt;') + '</pre>';
      }
    }
  } else {
    body.style.display = 'none';
    icon.classList.remove('open');
  }
}
</script>

<div class="response-section">
  <h3 class="response-header" onclick="toggleSmart_1()">
    <span class="toggle-icon" id="smart-icon-1">&#9654;</span>
    <span>claude Analysis</span>
  </h3>
  <div class="response-body" id="smart-body-1" style="display:none">
    <div class="rendered-content" id="smart-content-1"></div>
  </div>
</div>
<script>
var smartData_1 = "";
var smartRendered_1 = false;
function toggleSmart_1() {
  var body = document.getElementById('smart-body-1');
  var icon = document.getElementById('smart-icon-1');
  if (body.style.display === 'none') {
    body.style.display = 'block';
    icon.classList.add('open');
    if (!smartRendered_1) {
      smartRendered_1 = true;
      var el = document.getElementById('smart-content-1');
      if (typeof marked !== 'undefined') {
        el.innerHTML = marked.parse(smartData_1);
      } else {
        el.innerHTML = '<pre>' + smartData_1.replace(/</g, '&lt;') + '</pre>';
      }
    }
  } else {
    body.style.display = 'none';
    icon.classList.remove('open');
  }
}
</script>


<h2>Full Responses</h2>
<button class="expand-all" onclick="toggleAll()">Expand / Collapse All</button>

<script>var responseData = {};</script>


<script>
// Toggle individual response
function toggleResponse(idx) {
  var body = document.getElementById('body-' + idx);
  var icon = document.getElementById('icon-' + idx);
  if (body.style.display === 'none') {
    body.style.display = 'block';
    icon.classList.add('open');
    renderContent(idx);
  } else {
    body.style.display = 'none';
    icon.classList.remove('open');
  }
}

// Scroll from perf table to response
function scrollToResponse(idx) {
  var el = document.getElementById('resp-' + idx);
  var body = document.getElementById('body-' + idx);
  var icon = document.getElementById('icon-' + idx);
  if (body.style.display === 'none') {
    body.style.display = 'block';
    icon.classList.add('open');
    renderContent(idx);
  }
  el.scrollIntoView({ behavior: 'smooth', block: 'start' });
}

// Expand/collapse all
var allExpanded = false;
function toggleAll() {
  allExpanded = !allExpanded;
  for (var key in responseData) {
    var body = document.getElementById('body-' + key);
    var icon = document.getElementById('icon-' + key);
    if (allExpanded) {
      body.style.display = 'block';
      icon.classList.add('open');
      renderContent(parseInt(key));
    } else {
      body.style.display = 'none';
      icon.classList.remove('open');
    }
  }
}

// Render markdown + LaTeX for a response
var rendered = {};
function renderContent(idx) {
  if (rendered[idx]) return;
  rendered[idx] = true;
  var raw = responseData[idx] || '';

  // Strip <think>...</think> blocks (some models emit reasoning)
  raw = raw.replace(/<think>[\s\S]*?<\/think>/g, '');
  // Strip channel markers like <|channel|>analysis<|message|>
  raw = raw.replace(/<\|channel\|>[^<]*<\|message\|>/g, '');

  var el = document.getElementById('content-' + idx);

  // Use marked to parse markdown
  if (typeof marked !== 'undefined') {
    el.innerHTML = marked.parse(raw);
  } else {
    el.innerHTML = '<pre>' + raw.replace(/</g, '&lt;') + '</pre>';
  }

  // Typeset MathJax
  if (typeof MathJax !== 'undefined' && MathJax.typesetPromise) {
    MathJax.typesetPromise([el]).catch(function(err) { console.warn('MathJax error:', err); });
  }
}
</script>

</body>
</html>
